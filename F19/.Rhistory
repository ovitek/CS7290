2060+250
2445-2310
19403.78+10069.13
(30-25)*60 + (135-25)*40
((30-25)*60 + (135-25)*40) - 4059.24
1999*3
1200*4
1200*3
800*3
2400+3600
X <- read.table("http://users.stat.ufl.edu/~rrandles/sta4210/Rclassnotes/data/textdatasets/KutnerData/Chapter%2019%20Data%20Sets/CH19TA07.txt", sep="", as.is=TRUE, header=FALSE)
X
dimnames(X)[[2]] <- c("sales", "height", "width", "replicate")
X
dim(X)
getwd()
X <- read.table("http://users.stat.ufl.edu/~rrandles/sta4210/Rclassnotes/data/textdatasets/KutnerData/Chapter%2019%20Data%20Sets/CH19TA07.txt", sep="", as.is=TRUE, header=FALSE)
dimnames(X)[[2]] <- c("sales", "height", "width", "replicate")
X
plot(X$height, X$sales, type="n", xlab="Height", ylab="Sales")
class(X)
X$height
points(X$height[X$width==1], X$sales[X$width==1], pch=16, col="red")
points(X$height[X$width==2], X$sales[X$width==2], pch=15, col="blue")
legend("topleft", pch=c(16,15), col=c("red", "blue"), c("width=1", "width=2"))
library(lattice)
xyplot(sales ~ height | width, data=X, xlab="Height of the shelf", ylab="Sales")
xyplot(sales ~ width | height, data=X, xlab="Height of the shelf", ylab="Sales")
X$heightF <- factor(X$height)
X$widthF <- factor(X$width)
X$heightF
class(X$height)
with(X, tapply(sales, list(height,width), mean))
fit1 <- lm(sales ~ heightF*widthF, data = X)
names(fit1)
class(fit1)
fit1
fit1$coefficients # note that the reference factor levels are not displayed!
fit1$qr
fit1$coefficients # note that the reference factor levels are not displayed!
anova(fit1)
summary(fit1)
fit2 <- aov(sales ~ heightF*widthF, data = X)
names(fit2)
fit2$coefficients
summary(fit2)
coef(fit2)
fit3 <- glm(sales ~ heightF*widthF, family = gaussian, data = X)
summary(fit3)
X$heightF.rl <- relevel(X$heightF, ref = 3)
X$widthF.rl <- relevel(X$widthF, ref = 2)
fit1.rl <- lm(sales ~ heightF.rl*widthF.rl, data = X)
fit1.rl$coefficients # now H3 is the reference
anova(fit1.rl) # no change
plot(fit1$fitted.values, fit1$residuals, pch=16, cex=.5, col="blue")
abline(h=0, lwd=2, col="red")
qqnorm(fit1$residuals)
qqline(fit1$residuals)
library(gmodels)
anova(fit1)
coef(fit1)
length(coef(fit1))
contrast.function <- c(0,  1, -.5, 0, .5, -.25)
names(contrast.function) <- names(coef(fit1))
contrast.function
test.result <- estimable(fit1, contrast.function)
test.result
rownames(test.result) <- c("height 2 vs heights 1 and 3")
test.result
?estimable
delta <- seq(from=1, to=15, length=15)
alpha <- 0.05
beta <- 0.2
num <- (qnorm(1-beta) + qnorm(1-alpha/2))^2
den <- ( delta / summary(fit1)$sigma )^2
plot(delta, 2*num/den, type="l", ylim=c(0,50),
xlab="Minimal difference in sales to detect",
ylab="Minimal number of replicates per group")
Y <- read.table("http://users.stat.ufl.edu/~rrandles/sta4210/Rclassnotes/data/textdatasets/KutnerData/Chapter%2020%20Data%20Sets/CH20TA02.txt", sep="", as.is=TRUE, header=FALSE)
dimnames(Y)[[2]] <- c("premium", "city", "region")
Y
Y$cityF <- factor(Y$city)
Y$regionF <- factor(Y$region)
fit4 <- lm(premium ~ cityF*regionF, data = Y)
names(fit4)
anova(fit4)
summary(fit4)
with(X, tapply(sales, list(height,width), mean))
with(Y, tapply(sales, list(height,width), mean))
with(Y, tapply(premium, list(city,region), mean))
fit5 <- lm(premium ~ cityF + regionF, data = Y)
names(fit5)
anova(fit5)
summary(fit5)
Y
fit6 <- lm(premium ~ cityF, data = Y)
coef(fit6)
fit7 <- lm(premium ~ regionF, data = Y)
coef(fit7)
coef(fit6)
coef(fit7)
Y$alphaBeta <- c(0, 0, 75, 75, 90, 90) * c(0, -30, 0, -30, 0, -30)
fit8 <- lm(premium ~ cityF + regionF + alphaBeta, data = Y)
names(fit8)
anova(fit8)
summary(fit8)
install.packages(c("faraway", "lme4", "lmerTest"))
80*2
80*2/60
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
100/6
source('~/Documents/GitHub/CS7290/F19/build_site.R')
18*5
19*5
?contrasts
ls()
X
contrasts(X$height)
as.factor(X$height)
contrasts(as.factor(X$height))
contr.treatment(5, base = 1, contrasts = TRUE, sparse = FALSE)
contr.sum(5, contrasts = TRUE, sparse = FALSE)
19*5
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
13*5
7/1.75
setwd('/Users/olga/Dropbox/Olga/Teaching/CS7290/Fall19/Grades')
X <- read.table('midterm-grades.txt', sep=',', header=TRUE, as.is=TRUE)
head(X)
substr(dimnames(X)[[2]], 1, 7) == 'Midterm'
dimnames(X)[[2]]
X <- read.table('midterm-grades.txt', sep='\t,', header=TRUE, as.is=TRUE)
X <- read.table('midterm-grades.txt', sep='\t', header=TRUE, as.is=TRUE)
dimnames(X)[[2]]
substr(dimnames(X)[[2]], 1, 7) == 'Midterm'
fg <- as.numeric(X[,substr(dimnames(X)[[2]], 1, 7) == 'Midterm'])
fg
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=30, to=100, by=10))
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=40, to=100, by=10))
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=40, to=100, by=5))
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=40, to=100, by=10))
pdf('grades-midterm.pdf')
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=40, to=100, by=10))
dev.off()
dev.off()
pdf('grades-midterm.pdf')
hist(fg, main=paste('Midterm, median =',
round(median(fg, na.rm=TRUE), digits=2)), xlab='Grade',
breaks=seq(from=40, to=100, by=10))
dev.off()
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
setwd('/Users/olga/Dropbox/Olga/Teaching/CS7290/Fall19/Grades')
X <- read.table('midterm-grades.txt', sep='\t', header=TRUE, as.is=TRUE)
X
dim(X)
X[,c(1,2,10)]
3+3+3.5+0.25+2
16+5
4+4+1.5+1.5
4.75+4+1.5+1.5
source('~/Documents/GitHub/CS7290/F19/build_site.R')
source('~/Documents/GitHub/CS7290/F19/build_site.R')
