setwd('/Users/olga/Dropbox/Olga/Teaching/CS7290/Fall19/Grades')
X <- read.table('midterm-grades.txt', sep='\t', header=TRUE, as.is=TRUE)
# Extract columns
fg <- as.numeric(X[,substr(dimnames(X)[[2]], 1, 7) == 'Midterm'])
fg
head(X)
which(substr(dimnames(X)[[2]], 1, 7) == 'Midterm')
X[,c(1,2,10)]
order(X[,10]
)
)
X[order(X[,10]),c(1,2,10)]
?order
X[order(X[,10], decreasing=TRUE),c(1,2,10)]
Y <- read.table("http://users.stat.ufl.edu/~rrandles/sta4210/Rclassnotes/data/textdatasets/KutnerData/Chapter%2020%20Data%20Sets/CH20TA02.txt", sep="", as.is=TRUE, header=FALSE)
dimnames(Y)[[2]] <- c("premium", "city", "region")
Y
Y$cityF <- factor(Y$city)
Y$regionF <- factor(Y$region)
fit6 <- lm(premium ~ cityF, data = Y)
coef(fit6)
fit7 <- lm(premium ~ regionF, data = Y)
coef(fit7)
source('~/Documents/GitHub/CS7290/F19/build_site.R')
library("lme4")
data(package = "lme4")
summary(Dyestuff)
head(Dyestuff)
xtabs(~Batch, Dyestuff)
library(lattice)
dotplot(Yield ~ Batch, Dyestuff,
type = c("p", "a"), xlab = "Batch",
ylab = "Yield of dyestuff (grams of standard color)")
dotplot(Yield ~ reorder(Batch, Yield), Dyestuff,
type = c("p", "a"), jitter.x = TRUE, xlab = "Batch",
ylab = "Yield of dyestuff (grams of standard color)")
fit1 <- lmer(Yield ~ 1 + (1|Batch), Dyestuff)
summary(fit1)
class(fit1)
fixef(fit1)
ranef(fit1, drop = TRUE) # note no constraint
# 'drop' changes the output format from matrix to vector
fitted(fit1)
qqnorm(unlist(ranef(fit1)))
qqmath(ranef(fit1, postVar = TRUE), strip = FALSE)$Batch # fancy
plot(fitted(fit1), residuals(fit1), xlab="Predicted values", ylab="Residuals")
abline(h=0)
qqmath(residuals(fit1))
fit1.fixed <- lm(Yield ~ Batch, Dyestuff)
fitted(fit1.fixed)
